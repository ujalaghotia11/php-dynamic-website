"use strict";(()=>{var sn=Object.defineProperty,cn=Object.defineProperties;var mn=Object.getOwnPropertyDescriptors;var Q=Object.getOwnPropertySymbols;var ze=Object.prototype.hasOwnProperty,Ue=Object.prototype.propertyIsEnumerable;var Ne=(e,t,o)=>t in e?sn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,g=(e,t)=>{for(var o in t||(t={}))ze.call(t,o)&&Ne(e,o,t[o]);if(Q)for(var o of Q(t))Ue.call(t,o)&&Ne(e,o,t[o]);return e},N=(e,t)=>cn(e,mn(t));var Oe=(e,t)=>{var o={};for(var n in e)ze.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(e!=null&&Q)for(var n of Q(e))t.indexOf(n)<0&&Ue.call(e,n)&&(o[n]=e[n]);return o};var w=(e,t,o)=>new Promise((n,i)=>{var r=c=>{try{a(o.next(c))}catch(m){i(m)}},s=c=>{try{a(o.throw(c))}catch(m){i(m)}},a=c=>c.done?n(c.value):Promise.resolve(c.value).then(r,s);a((o=o.apply(e,t)).next())});var ge=typeof window!="undefined"?window.location.hostname==="localhost"||window.location.hostname==="affiliate.local":!1,he=typeof window!="undefined"?location.hostname.includes(".qa."):!1,ln=ge||he;var P=`affiliate-api.${ln?"development.":""}raptive.com`,H=["v1","get","link"],Ke="raptive_dev",T={enableIngredientSplit:()=>!0},dn=135293,we=1598627,Fe=`https://s.skimresources.com/js/${dn}X{siteId}.skimlinks.js`,Y="noskim",je=/https:\/\/s\.skimresources\.com\/js\/\w+\.skimlinks\.js/i,He='[src*="https://s.skimresources.com/js/"]';function Z(e){if(!e)return[];if(Array.isArray(e))return Z(e.join(","));if(fn(e))return[e];let t=[],o=0,n=0,i="";for(let r=0,s=e==null?void 0:e.length;r<s;r++){let a=e[r];if(a==="(")o+=1;else if(a===")")o-=1;else if(a==="[")n+=1;else if(a==="]")n-=1;else if(a===","&&!o&&!n){t.push(i.trim()),i="";continue}i+=a}return t.push(i.trim()),t}function fn(e){return(e==null?void 0:e.indexOf("@"))===0}function Ie(e){try{let n=new URL(e).hostname.split("."),i=["com","org","net","gov","edu","io","co","uk","us","ca","de","jp","fr","au","ru","ch","it","nl","se","no","es","mil","biz","info","co.uk","com.au","gov.uk","ac.jp","co.jp"];for(let r=0;r<n.length-1;r++){let s=n.slice(r).join(".");if(i.includes(s))return r-1>=0?n.slice(r-1).join("."):null}return n.length>=2?n.slice(n.length-2).join("."):null}catch(t){return null}}function We(e){if(!e)return;let t;try{return t=new URL(e),t}catch(o){}}var pn="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",un=21;function z(){let e="",t=un;for(;t--;)e+=pn[Math.random()*64|0];return e}var ee=2773249,te=100874324,U="www.anrdoezrs.net";var M="aflt",Be="~",Ce="|";function ne({domain:e,paths:t,params:o,hash:n}){let i;try{i=new URL(`https://${e}`)}catch(r){return}if(t&&(i.pathname=t.filter(r=>qe(r)).map(r=>encodeURIComponent(r)).filter(r=>!!r&&r!=="/").join("/")),o)for(let[r,s]of Object.entries(o))qe(s)&&i.searchParams.append(r,s.toString());return n&&n!=="#"&&(i.hash=n.startsWith("#")?n:`#${n}`),i}function qe(e){return(typeof e=="string"||typeof e=="number")&&e!==""&&!Number.isNaN(e)&&e!==1/0}function Ge(e){let t=0;if(e.length===0)return t;for(let o=0;o<e.length;o++)t=(t<<5)-t+e.charCodeAt(o),t=t&t;return t}function b({uniqueId:e,flags:t,originalUrl:o,includeDomain:n}){let i=oe(t,o),r=e||z(),s=[r,i];if(n&&typeof window!="undefined")if(r.length+1+i.length+1+location.hostname.length>64){let m=Ge(location.hostname);s.push(m)}else s.push(location.hostname);return{fullUnifiedTrackingString:s.filter(Boolean).join(Be),trackingFlags:i,uniqueId:r}}function oe(e,t){if(t){let n=t.searchParams.get(M),i=n==null?void 0:n.split(Ce);i!=null&&i.includes("lg")&&e.push("lg"),i!=null&&i.includes("as")&&e.push("as"),i!=null&&i.includes("cse")?e.push("cse"):i!=null&&i.includes("csn")?e.push("csn"):i!=null&&i.includes("cssoc")?e.push("cssoc"):i!=null&&i.includes("csstrat")?e.push("csstrat"):i!=null&&i.includes("csemail")?e.push("csemail"):i!=null&&i.includes("cremail")?e.push("cremail"):i!=null&&i.includes("crsoc")&&e.push("crsoc")}let o=[];return e.includes("csn")?o.push("csn"):e.includes("cse")?o.push("cse"):e.includes("cssoc")?o.push("cssoc"):e.includes("csstrat")?o.push("csstrat"):e.includes("csemail")?o.push("csemail"):e.includes("cremail")?o.push("cremail"):e.includes("crsoc")&&o.push("crsoc"),o.push("plt"),e.includes("lg")?o.push("lg"):e.includes("km")?o.push("km"):e.includes("lm")?o.push("lm"):e.includes("dyn")?o.push("dyn"):e.includes("as")&&o.push("as"),o.filter(Boolean).join(Ce)}var hn=e=>{if(e.hostname!=="www.amazon.com"&&e.hostname!=="amazon.com")return!1;let o=/\/dp\/(?:[A-Z0-9]{10,13})(?:\/|$|\?|#)/.exec(e.pathname);if(!o)return!1;let n=o[0].replaceAll(/[^A-Z0-9]/g,"");return!(!n||n.length!==10&&n.length!==13||e.searchParams.has("tag"))},$e=(e,t,o,n)=>{var c;if(!(n!=null&&n.amazonAffiliateId)||!hn(e))return;let i;try{i=new URL(e.href)}catch(m){return}i.searchParams.append("tag",n.amazonAffiliateId);let{fullUnifiedTrackingString:r,uniqueId:s,trackingFlags:a}=b({flags:(c=n==null?void 0:n.forcedFlags)!=null?c:["lm"],originalUrl:e});return{affiliateUrl:i,uniqueId:s,fullUnifiedTrackingString:r,trackingFlags:a,merchantConfig:o}};var Ve={"www.target.com":[{to:"raptive",includePattern:"aflt=plt"},{to:"impact",domain:"goto.target.com",impactCampaignId:81938,impactAdId:2092}],"www.amazon.com":{to:"amazon"},"www.walmart.com":{to:"impact",domain:"goto.walmart.com",impactCampaignId:565706,impactAdId:9383},"www.homedepot.com":{to:"impact",domain:"homedepot.sjv.io",impactCampaignId:456723,impactAdId:8154},"www.williams-sonoma.com":{to:"impact",domain:"williams-sonoma.pdy5.net",impactCampaignId:265127,impactAdId:4291},"www.potterybarn.com":{to:"impact",domain:"pottery-barn.o3ae.net",impactCampaignId:273804,impactAdId:4332},"www.potterybarnkids.com":{to:"impact",domain:"pbkids.hj2i.net",impactCampaignId:267850,impactAdId:4333},"www.pbteen.com":{to:"impact",domain:"pbteen.8f6i.net",impactCampaignId:267852,impactAdId:4334},"www.greenrow.com":{to:"impact",domain:"greenrow.pxf.io",impactCampaignId:1659377,impactAdId:19269},"www.markandgraham.com":{to:"impact",domain:"markandgraham.juo2.net",impactCampaignId:267860,impactAdId:4338},"www.rejuvenation.com":{to:"impact",domain:"rejuvenation.et7l.net",impactCampaignId:267858,impactAdId:4337},"www.westelm.com":{to:"impact",domain:"westelm.e54b.net",impactCampaignId:267856,impactAdId:4336},"www.fuelmeals.com":{to:"impact",domain:"fuel-meals.pxf.io",impactCampaignId:1513985,impactAdId:17798},"www.placeit.net":{to:"impact",domain:"1.envato.market",impactCampaignId:629767,impactAdId:10168},"www.instacart.com":{to:"impact",domain:"instacart.oloiyb.net",impactCampaignId:413183,impactAdId:7412},"www.bestbuy.com":{to:"impact",domain:"bestbuy.7tiv.net",impactCampaignId:614286,impactAdId:10014},"www.cb2.com":{to:"impact",domain:"cb2.pxf.io",impactCampaignId:1752687,impactAdId:20480},"www.oxo.com":{to:"impact",domain:"oxo.x57o.net",impactCampaignId:577714,impactAdId:9558},"www.myollie.com":{to:"impact",domain:"olliepets.sjv.io",impactCampaignId:890556,impactAdId:12309},"www.ownerly.com":{to:"impact",domain:"ownerly.sjv.io",impactCampaignId:1552846,impactAdId:18123},"www.peoplelooker.com":{to:"impact",domain:"people-looker.sjv.io",impactCampaignId:1552840,impactAdId:18121},"www.everydaylifeinsurance.com":{to:"impact",domain:"everyday-life.sjv.io",impactCampaignId:1594860,impactAdId:18495},"www.bumper.com":{to:"impact",domain:"bumper.pxf.io",impactCampaignId:1552843,impactAdId:18122},"www.minted.com":{to:"impact",domain:"mintedllc.sjv.io",impactCampaignId:1712109,impactAdId:19909},"www.drinktrade.com":{to:"impact",domain:"tradecoffee.pxf.io",impactCampaignId:571223,impactAdId:9472},"www.blueland.com":{to:"impact",domain:"blueland.sjv.io",impactCampaignId:1419720,impactAdId:16909},"www.nordvpn.com":{to:"impact",domain:"nordvpn.sjv.io",impactCampaignId:417838,impactAdId:7452},"www.thebodypedia.com":{to:"impact",domain:"bodypedia.pxf.io",impactCampaignId:1937613,impactAdId:23382},"www.beachwaver.com":{to:"impact",domain:"beachwaver.glg9ob.net",impactCampaignId:576324,impactAdId:9538},"www.dukecannon.com":{to:"impact",domain:"dukecannon.sjv.io",impactCampaignId:1835362,impactAdId:21928},"www.epicure.com":{to:"impact",domain:"epicure.pxf.io",impactCampaignId:1738553,impactAdId:20206},"www.ringconcierge.com":{to:"impact",domain:"ring-concierge.pxf.io",impactCampaignId:863937,impactAdId:12049},"www.reebelo.com":{to:"impact",domain:"reebelo.sjv.io",impactCampaignId:1760742,impactAdId:20639},"www.lenovo.com":{to:"impact",domain:"lenovo.vzew.net",impactCampaignId:218864,impactAdId:3808},"www.casper.com":{to:"impact",domain:"casper.5ad6.net",impactCampaignId:396851,impactAdId:7235},"www.acorns.com":{to:"impact",domain:"acorns.sjv.io",impactCampaignId:345751,impactAdId:5136},"www.disneyplus.com":{to:"impact",domain:"disneyplus.bn5x.net",impactCampaignId:564546,impactAdId:9358},"www.domainmoney.com":{to:"impact",domain:"domainmoney.pxf.io",impactCampaignId:1150126,impactAdId:14535},"www.wayfair.com":{dev:!0,to:"cj"},"www.allmodern.com":{dev:!0,to:"cj"},"www.jossandmain.com":{dev:!0,to:"cj"},"www.perigold.com":{dev:!0,to:"cj"},"www.birchlane.com":{dev:!0,to:"cj"},"www.thrivemarket.com":{dev:!0,to:"cj"}};var In=Ve,Je=In;function ie(e,t,o,n){let i=Cn(e);if(!i||!(n!=null&&n.enableDynamicLinks)&&i.to==="raptive"||n&&n.excludeDestinations&&n.excludeDestinations.includes(i.to)||i.dev===!0&&!(ge||he))return;let r=vn[i.to];if(!r)return;let s=N(g({},t),{siteId:t.siteId||t.id});return r(e,s,i,o)}function Cn(e,t){let o=e.hostname,n=t||R(),i=n[o]||n[`www.${o}`];if(!i)return;let r=Array.isArray(i)?i:[i],s=[];for(let a of r){let{includePattern:c,excludePattern:m}=a;c&&!(typeof c=="string"?new RegExp(c,"i"):c).test(e.href)||m&&(typeof m=="string"?new RegExp(m,"i"):m).test(e.href)||s.push(a)}if(s.length)return s[0]}function R(){return Je}var Sn=(e,t,o,n)=>{var p;let i=n==null?void 0:n.hrefText,r=e.searchParams.get("keyword")||i;if(!r)return;let s=e.searchParams.get("subid3"),a=s?We(decodeURIComponent(s)):e,c=oe(["dyn"],a),{fullUnifiedTrackingString:m,uniqueId:l}=b({flags:(p=n==null?void 0:n.forcedFlags)!=null?p:["lm"],originalUrl:a}),f={keyword:r,site_id:t.siteId,site_name:t.siteName,subid1:t.siteId,trackid:m,[M]:c,referral_url:(n==null?void 0:n.referralUrl)||window.location.href,sharedid:T.enableIngredientSplit()?"ingredient-split-test":void 0},d=ne({domain:P,params:f,paths:H,hash:e.hash});if(d)return{affiliateUrl:d,uniqueId:l,fullUnifiedTrackingString:m,trackingFlags:c,merchantConfig:o}},kn=(e,t,o,n)=>{var d,p;if(!o.domain||!o.impactCampaignId||!o.impactAdId)return;let i=["c",ee,o.impactCampaignId,o.impactAdId],r=oe((d=n==null?void 0:n.forcedFlags)!=null?d:["lm"],e),s=new URL(e);s.searchParams.delete(M),s.searchParams.append(M,r);let{fullUnifiedTrackingString:a,uniqueId:c,trackingFlags:m}=b({flags:(p=n==null?void 0:n.forcedFlags)!=null?p:["lm"],originalUrl:e}),l={subid1:t.siteId,subid2:n!=null&&n.referralUrl?n==null?void 0:n.referralUrl:typeof window!="undefined"?window==null?void 0:window.location.href:"",sharedid:(n==null?void 0:n.testImpactSharedId)||t.siteName,subid3:s.href,u:s.href},f=ne({domain:o.domain,paths:i,params:l,hash:e.hash});if(f)return{affiliateUrl:f,uniqueId:c,fullUnifiedTrackingString:a,trackingFlags:m,merchantConfig:o}},En=(e,t,o,n)=>{var m;let{fullUnifiedTrackingString:i,trackingFlags:r,uniqueId:s}=b({flags:(m=n==null?void 0:n.forcedFlags)!=null?m:["lm"],originalUrl:e,includeDomain:!0}),a=ne({domain:U,paths:["links",te,"type","dlg"]});return a===void 0?void 0:{affiliateUrl:new URL(`${a.toString()}/${e.href}?sid=${encodeURIComponent(i)}`),uniqueId:s,fullUnifiedTrackingString:i,trackingFlags:r,merchantConfig:o}},yn=(e,t,o,n)=>{throw Error("Not Implemented")},vn={amazon:$e,raptive:Sn,impact:kn,cj:En,custom:yn};var Se="123456789",xn="Jest Site Name";var Xe=encodeURIComponent(xn).replaceAll("%20","+"),Qe=typeof window!="undefined"?encodeURIComponent(window.location.href):"",et=R()["www.walmart.com"],bn=et.impactCampaignId,Ln=et.impactAdId;var Tn="https://www.target.com/p/la-costena-chipotle-peppers-in-adobo-sauce-7oz/-/A-52527972?aflt=plt",tt="https://www.walmart.com/ip/Karina-B-Round-Diamonds-Band-in-18-kt-Yellow-Gold-Size-7-5-Female-Adult/3659352979",Ye="https://www.wayfair.com/appliances/pdp/ilve-nostalgie-40-398-cu-ft-freestanding-dual-fuel-range-with-griddle-ilve1116.html?piid=49423286%2C49423299",Ze=encodeURIComponent(`${tt}?${M}=${encodeURIComponent("plt|lm")}`),{fullUnifiedTrackingString:Mn}=b({flags:["lm"]}),{fullUnifiedTrackingString:_n}=b({flags:["lm"],includeDomain:!0}),ai={walmartToImpact:{before:tt,after:`https://goto.walmart.com/c/${ee}/${bn}/${Ln}?subid1=${Se}&subid2=${Qe}&sharedid=${Xe}&subid3=${Ze}&u=${Ze}`},targetToRaptive:{before:Tn,after:`https://${P}/${H.join("/")}?keyword=apples&site_id=${Se}&site_name=${Xe}&subid1=${Se}&trackid=${encodeURIComponent(Mn).replace("~","%7E")}&aflt=${encodeURIComponent("plt|dyn")}&referral_url=${Qe}`},wayfairToCJ:{before:Ye,after:`https://${U}/links/${te}/type/dlg/${Ye}?sid=${encodeURIComponent(_n)}`}};var nt="1.19.34";var re=typeof location!="undefined"&&(location.hostname==="localhost"||location.hostname==="affiliate.local"),ae=typeof location!="undefined"&&location.hostname.includes(".qa."),se=re||ae;var ot=ae?"QA":re?"Local":"Production",B="raptive-affiliate-session",ke="ox8IWkcay_3D",it="raptive-affiliate-ignore",rt=[".adthrive",".adthrive-ad",".adthrive-sidebar"],ce=500,at=new Set(["p","h1","h2","h3","h4","h5","h6","li","span","div","td","th","caption","article","section","blockquote","pre","figcaption","dt","dd","header","footer","aside","summary"]),Ee={autoHeight:!1};function ct(e){return e.nodeType===Node.ELEMENT_NODE}function mt(e){return e.nodeType===Node.TEXT_NODE}function lt(e){if(!e)return;let t;try{return t=new URL(e),t}catch(o){}}function dt(e){let t=e.split("").filter(o=>o===".").length;return e.startsWith("www.")?e.slice(4):t!==1?void 0:`www.${e}`}var st=10,Rn=1e4;function me(e,t=Rn,o=st){let n=t/o;return new Promise(i=>{let r=e();r&&i(r);let s=0,a=setInterval(()=>{let c;try{c=e()}finally{s++}c?(clearInterval(a),i(c)):s>=n&&(clearInterval(a),i(null))},st)})}var Dn=100;function ft(e,t=Dn){let o=null;return function(){o||(e(),o=window.setTimeout(()=>{o=null},t))}}function pt(){return new Promise(e=>{if(document.readyState==="interactive"||document.readyState==="complete"){e();return}document.addEventListener("DOMContentLoaded",()=>{e()})})}function ut(e){return new Promise((t,o)=>{let n=document.createElement("script");n.type="text/javascript",n.async=!0,n.referrerPolicy="no-referrer-when-downgrade",n.onload=()=>{t()},n.onerror=(i,r,s,a,c)=>{let m=JSON.stringify(c,["message","arguments","type","name"]),l=JSON.stringify({message:i,source:r,line:s,column:a,error:m});o(new Error(l))},n.src=e,document.head.appendChild(n)})}function I(){return re||ae||location.href.includes(Ke)}function S(e,t){I()&&(t?console.log(e,t):console.log(e))}function A(e,t){S(`%c ${e}`,`color:${t||"green"}`)}function _(e,t){I()&&(t?console.error(e,t):console.error(e))}function ye(){I()&&console.log(new Array(100).fill("\u23AF").join(""))}function gt(e,t,o){e.dispatchEvent(new CustomEvent(t,{detail:o||{}}))}var ve="data-affiliate-config",ht="#raptive_lm_disable",O={enableKeywordLinker:!1,enableLinkMonetizer:!1,enableLinkController:!1,enableDynamicLinks:!1,enableAnalytics:!0,enableSkimlinks:!["insidethemagic.net"].includes(window.location.hostname),excludeDestinations:["cj"],alwaysNoFollow:!0,alwaysOpenInNew:!0,kmCssSelectors:""};var K;function Ae(e){K=e}function E(){var e;return K||(K=Object.seal(g({},O))),Object.seal(g(g({},K),T.enableIngredientSplit()?{enableDynamicLinks:!0,excludeDestinations:(e=K.excludeDestinations)==null?void 0:e.filter(t=>t!=="raptive")}:{}))}function wt(e){let t=E();Ae(Object.seal(g(K?g({},t):g({},O),e)))}var It={enableKeywordLinker:!0,enableLinkMonetizer:!0};var Ct=[{widgetSelector:"#h-our-top-picks",widgetUrl:"https://affiliate.raptive.com/renderer/w/6ZlPBNb7Te-AmzScULz6HQ",controlAmazonAffiliateId:"feelgoodfoo03-at-csn-overnight-oats-containers-20",testAmazonAffiliateId:"feelgoodfoo03-at-csn-overnight-oats-containers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#h-our-top-picks, #h-our-top-picks ~ ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"feelgoodfoo03-at-csn-overnight-oats-containers-20",testAmazonAffiliateId:"feelgoodfoo03-at-csn-overnight-oats-containers-control-20",testImpactSharedId:"Commerce-Control"}];var St=[{widgetSelector:"#h-our-top-picks-nbsp",widgetUrl:"https://affiliate.raptive.com/renderer/w/FUTgmk-CT8qeDhAMXIJWHw",controlAmazonAffiliateId:"at-bestmattresstoppers-20",testAmazonAffiliateId:"at-bestmattresstoppers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#h-our-top-picks-nbsp, #h-our-top-picks-nbsp ~ ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"at-bestmattresstoppers-20",testAmazonAffiliateId:"at-bestmattresstoppers-control-20",testImpactSharedId:"Commerce-Control"}];var kt=[{widgetSelector:"#h-my-top-picks",widgetUrl:"https://affiliate.raptive.com/renderer/w/PuZY96M2R5y6UgYWKrtNSQ",controlAmazonAffiliateId:"jusonecoo-at-csn-best-pour-over-coffee-makers-20",testAmazonAffiliateId:"jusonecoo-at-csn-best-pour-over-coffee-makers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#h-my-top-picks, #h-my-top-picks ~ ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"jusonecoo-at-csn-best-pour-over-coffee-makers-20",testAmazonAffiliateId:"jusonecoo-at-csn-best-pour-over-coffee-makers-control-20",testImpactSharedId:"Commerce-Control"}];var Et=[{widgetSelector:"#h-my-top-picks-nbsp",widgetUrl:"https://affiliate.raptive.com/renderer/w/Svg69mWqR0iMgXZ-oduh0Q",controlAmazonAffiliateId:"jusonecoo-at-csn-best-matcha-powders-20",testAmazonAffiliateId:"jusonecoo-at-csn-best-matcha-powders-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#h-my-top-picks-nbsp, #h-my-top-picks-nbsp ~ ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"jusonecoo-at-csn-best-matcha-powders-20",testAmazonAffiliateId:"jusonecoo-at-csn-best-matcha-powders-control-20",testImpactSharedId:"Commerce-Control"}];var yt=[{widgetSelector:"#h-our-top-picks-nbsp",widgetUrl:"https://affiliate.raptive.com/renderer/w/8WVh6IRXRH-z93MBzRi07A",controlAmazonAffiliateId:"jusonecoo-at-csn-japanese-rice-cookers-20",testAmazonAffiliateId:"jusonecoo-at-csn-japanese-rice-cookers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#h-our-top-picks-nbsp, #h-our-top-picks-nbsp ~ ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"jusonecoo-at-csn-japanese-rice-cookers-20",testAmazonAffiliateId:"jusonecoo-at-csn-japanese-rice-cookers-control-20",testImpactSharedId:"Commerce-Control"}];var vt=[{widgetSelector:".disclosure",widgetUrl:"https://affiliate.raptive.com/renderer/w/6Ilm4CpxQnyFoO2n7EHFpA",controlAmazonAffiliateId:"kylieminter09-20",testAmazonAffiliateId:"kylieminter09-test-20",testImpactSharedId:"Commerce-Test"},{controlAmazonAffiliateId:"kylieminter09-20",testAmazonAffiliateId:"kylieminter09-control-20",testImpactSharedId:"Commerce-Control"}];var At=[{widgetSelector:"h2:nth-of-type(2)",widgetUrl:"https://affiliate.raptive.com/renderer/w/-qJC1Ld3SCW5LZwQ1xj2sQ",controlAmazonAffiliateId:"kylieminter09-at-csn-farmhouse-sinks-20",testAmazonAffiliateId:"kylieminter09-at-csn-farmhouse-sinks-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("h2:nth-of-type(2), h2:nth-of-type(2) + p, h2:nth-of-type(2) + iframe + p,  h2:nth-of-type(2) + p + ol, h2:nth-of-type(2) + iframe + p + ol");Array.from(e).forEach(t=>t.style.display="none")}},{controlAmazonAffiliateId:"kylieminter09-at-csn-farmhouse-sinks-20",testAmazonAffiliateId:"kylieminter09-at-csn-farmhouse-sinks-control-20",testImpactSharedId:"Commerce-Control"}];var xt=[{widgetSelector:"#our-top-picks",widgetUrl:"https://affiliate.raptive.com/renderer/w/cs2EdzB4T8KulxaqBrp_cw",controlAmazonAffiliateId:"theseamom-at-csn-best-chamber-vacuum-sealers-20",testAmazonAffiliateId:"theseamom-at-csn-best-chamber-vacuum-sealers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("#our-top-picks, #our-top-picks ~ p");Array.from(e).forEach((t,o)=>{o<5&&(t.style.display="none")})}},{controlAmazonAffiliateId:"theseamom-at-csn-best-chamber-vacuum-sealers-20",testAmazonAffiliateId:"theseamom-at-csn-best-chamber-vacuum-sealers-control-20",testImpactSharedId:"Commerce-Control"}];var bt=[{widgetSelector:"h2.wp-block-heading",widgetUrl:"https://affiliate.raptive.com/renderer/w/CisyADuESheS9_FjXwGLNQ",controlAmazonAffiliateId:"ginsweiwatrec-at-csn-best-meal-prep-containers-20",testAmazonAffiliateId:"ginsweiwatrec-at-csn-best-meal-prep-containers-test-20",testImpactSharedId:"Commerce-Test",callback:()=>{let e=document.querySelectorAll("h2.wp-block-heading, h2.wp-block-heading ~ ol");Array.from(e).forEach((t,o)=>{o<2&&(t.style.display="none")})}},{controlAmazonAffiliateId:"ginsweiwatrec-at-csn-best-meal-prep-containers-20",testAmazonAffiliateId:"ginsweiwatrec-at-csn-best-meal-prep-containers-control-20",testImpactSharedId:"Commerce-Control"}];var Lt=[{widgetSelector:'[id*="wprm-recipe-container-"]',widgetUrl:"https://affiliate.raptive.com/renderer/w/xv9TW_YyQX2f1BfenZBDlA"}];var Tt={};var Mt=[{widgetSelector:"#recipe",widgetUrl:"https://affiliate.raptive.com/renderer/w/MJCuZrwfREu5VRQMhZD39w",controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-test-20",testImpactSharedId:"Widget-Test",testImpactAfltFlag:"affwt"},{controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-control-20",testImpactSharedId:"Widget-Control",testImpactAfltFlag:"affwc"}];var _t=[{widgetSelector:"#recipe",widgetUrl:"https://affiliate.raptive.com/renderer/w/3sSbu2HkTeOl6mNSNVm7xQ",controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-test-20",testImpactSharedId:"Widget-Test",testImpactAfltFlag:"affwt"},{controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-control-20",testImpactSharedId:"Widget-Control",testImpactAfltFlag:"affwc"}];var Pt=[{widgetSelector:"#recipe",widgetUrl:"https://affiliate.raptive.com/renderer/w/rO1KLbm6ToGDQFp-GxlAqw",controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-test-20",testImpactSharedId:"Widget-Test",testImpactAfltFlag:"affwt"},{controlAmazonAffiliateId:"raptive-fivehearthome-cse-20",testAmazonAffiliateId:"raptive-fivehearthome-cse-control-20",testImpactSharedId:"Widget-Control",testImpactAfltFlag:"affwc"}];var Rt={"2-quart baking dish":"https://www.amazon.com/Creuset-Stoneware-Heritage-Square-Dishes/dp/B086L3FJ31/r","8-inch-square baking dish":"https://www.amazon.com/CorningWare-Classic-Square-Casserole-2L/dp/B000A3FWHS/ref=sr_1_1","9x 13 inch baking dish":"https://www.amazon.com/dp/B07633FM3L/?","13 x 9 inch baking dish":"https://www.amazon.com/dp/B07633FM3L/?","8 or 9 inch square baking dish":"https://www.amazon.com/Creuset-Stoneware-Heritage-Square-Dishes/dp/B086L3FJ31/r?","9-inch by 13-inch baking dish":"https://www.amazon.com/dp/B07633FM3L/?","8-inch square pan":"https://www.amazon.com/CorningWare-Classic-Square-Casserole-2L/dp/B000A3FWHS/ref=sr_1_1","8-ounce glass jar":"https://www.amazon.com/Ball-Regular-Mouth-Mason-2-Pack/dp/B07MZCXCV4/","9x 13 baking dish":"https://www.amazon.com/dp/B07633FM3L/?",Whisk:"https://www.amazon.com/OXO-Grips-11-Inch-Better-Balloon/dp/B00004OCNS","Mixing bowls":"https://www.target.com/p/3pc-5qt-3qt-38-1-5qt-stainless-steel-non-slip-mixing-bowls-no-lids-silver-figmint-8482/-/A-87707279","Electric mixer":"https://www.amazon.com/KitchenAid-KHM7210ER-7-Speed-Digital-Accessories/dp/B00C0QJY0O","Parchment Paper":"https://www.amazon.com/Parchment-Non-Stick-Cooking-Grilling-Steaming/dp/B081TZ5KPD","rolling pin":"https://www.amazon.com/J-K-Adams-Rolling-diameter-COOP-FP1/dp/B098YTBT3N","silicone mats":"https://www.amazon.com/Silpat-Premium-Non-Stick-Silicone-Baking/dp/B00008T960/","Baking sheets":"https://www.amazon.com/Nordic-Ware-Natural-Aluminum-Commercial/dp/B0049C2S32","Cookie cutters":"https://www.amazon.com/Cookie-Cutter-Kingdom-Gingerbread-Decorations/dp/B0BJ149XCK","wire rack":"https://www.amazon.com/Hiware-2-Pack-Cooling-Racks-Baking/dp/B0829T38F7","corn stick pans":"https://www.amazon.com/Lodge-BW6CRN-Stick-Seasoned-Cornstick/dp/B0971N2381","airtight container":"https://www.amazon.com/Rubbermaid-2108390-Brilliance-24-Piece-Container/dp/B07X5Y11CB","large skillet":"https://go.skimresources.com?id=225718X1707682&xs=1&url=https%3A%2F%2Fsmithey.com%2Fproducts%2Fno-12-cast-iron-skillet","Dutch oven":"https://www.amazon.com/Creuset-5-5-Quart-Signature-Stainless-Meringue/dp/B07QDGN33D","wooden spoon":"https://www.amazon.com/KitchenAid-Universal-Basting-Spoon-size/dp/B0888SXBYL","baking dish":"https://www.amazon.com/Creuset-Heritage-Stoneware-9-Inch-Rectangular/dp/B002YKMLBA",foil:"https://www.target.com/p/reynolds-wrap-standard-aluminum-foil-75-sq-ft/-/A-14754557#lnk=sametab","casserole dish":"https://www.amazon.com/Creuset-Stoneware-Rectangular-7-Inch-Caribbean/dp/B00HYXOSWM/ref=sr_1_2?","large pot":"https://www.amazon.com/Creuset-5-5-Quart-Signature-Stainless-Meringue/dp/B07QDGN33D","plastic wrap":"https://www.target.com/p/glad-press-39-n-seal-plastic-food-wrap-100-sq-ft/-/A-14771700#lnk=sametab",mandoline:"https://www.amazon.com/OXO-Adjustable-Handheld-Mandoline-Slicer/dp/B000YDO2LG",grater:"https://www.amazon.com/KitchenAid-Gourmet-Box-Grater-Black/dp/B005CN5JEM",spatula:"https://www.amazon.com/KitchenAid-Bamboo-Handled-Spatula-Silicone/dp/B09RX1K7YD","mason jars":"https://www.target.com/p/ball-32oz-12pk-glass-wide-mouth-mason-jar-with-lid-and-band/-/A-49139680#lnk=sametab","loaf pan":"https://www.amazon.com/Cuisinart-SMB-9LP-Easy-Bakeware-9-Inch/dp/B000ELUWGW","muffin tin":"https://www.amazon.com/Wilton-Perfect-Results-Non-Stick-Bakeware/dp/B001K26ZPG","stand mixer":"https://www.amazon.com/KitchenAid-KSM150PSER-Artisan-Tilt-Head-Pouring/dp/B00005UP2P","cookie cutters":"https://www.amazon.com/kayaso-Round-Cutters-Graduated-Stainless/dp/B071GLNZFS","biscuit cutter":"https://www.amazon.com/Biscuit-Cutter-HULISEN-Cookies-Professional/dp/B074W66D85","food processor":"https://www.amazon.com/Cuisinart-FP-8GM-Elemental-Processor-Gunmetal/dp/B00MVWGFP4/ref=sr_1_2?",colander:"https://www.target.com/p/oxo-softworks-colander-with-green-handles/-/A-13567794#lnk=sametab","dish towel":"https://www.target.com/p/2pk-cotton-striped-terry-kitchen-towels-threshold/-/A-82266395?preselect=79545336#lnk=sametab","paper towels":"https://www.amazon.com/Bounty-Quick-Size-Towels-Family-Regular/dp/B07MHJFRBJ","Ziploc bag":"https://www.amazon.com/Ziploc-Storage-Quart-Bags-Count/dp/B019ZTZTVQ","3-Quart Casserole Dish":"https://www.amazon.com/Creuset-Heritage-9-Inch-Stoneware-Marseille/dp/B007JF8VIC","lip balm tubes or pots":"https://www.amazon.com/CTKcom-2-Ounce-Cosmetic-Candles-Storage/dp/B01JKTRE14","bundt cake pan":"https://www.target.com/p/nordic-ware-12-cup-bundt-pan-silver/-/A-52310026?","9-inch square baking dish":"https://www.amazon.com/Staub-40508-639-Ceramics-Covered-9x9-inch/dp/B07632PCLW","ovenproof skillet":"https://www.amazon.com/Creuset-LS2024-232-Signature-Handle-Skillet/dp/B00B4UOGVO","slow cooker":"https://www.amazon.com/Crock-pot-2137020-Technology-Programmable-Stainless/dp/B08BG7X5F9/ref=sr_1_2?","meat thermometer":"https://www.amazon.com/ThermoPro-Thermometer-Grilling-Waterproof-Ambidextrous/dp/B07XXSYLL8?th=1","large bowl":"https://www.target.com/p/3pc-5qt-3qt-38-1-5qt-stainless-steel-non-slip-mixing-bowls-no-lids-silver-figmint-8482/-/A-87707279",bowl:"https://www.target.com/p/3pc-5qt-3qt-38-1-5qt-stainless-steel-non-slip-mixing-bowls-no-lids-silver-figmint-8482/-/A-87707279","glass dish":"https://www.target.com/p/pyrex-9-34-x13-34-glass-deep-casserole-dish-with-lid-sage-green/-/A-88156166","cast iron skillet":"https://smithey.com/products/no-10-cast-iron-skillet"};var D=".wprm-recipe-instructions-container *:not(h1, h2, h3, h4, h5, h6), .wprm-recipe-notes-container *:not(h1, h2, h3, h4, h5, h6)",Dt={enableKeywordLinker:!0,kmPerPageLimit:5,kmCssSelectors:D,keywordConfigs:[{keyword:"keyphrase one",href:"https://www.example.com/product/one",cssSelectors:[D],perPageLimit:1},{keyword:"Keyphrase Two",href:"https://www.example.com/product/two",cssSelectors:[D],perPageLimit:2},{keyword:"keyphrasethree",href:"https://www.example.com/product/three",cssSelectors:[D],perPageLimit:3},{keyword:"keyphrase four",href:"https://www.example.com/product/four",cssSelectors:[D],perPageLimit:4},{keyword:"fifth keyphrase",href:"https://www.example.com/product/five",cssSelectors:[D],perPageLimit:5},...Object.entries(Rt).map(([e,t])=>({keyword:e,href:t,cssSelectors:[D],perPageLimit:1}))],enableLinkMonetizer:!0,amazonAffiliateKeywordId:"theseamom-at-cse-km-20"};var Nt=`https://affiliate-api${se?".development":""}.raptive.com/v1/create/event`,zt=`apeng-event-stream-${se?"development":"production"}`,le=`apeng-error-event-stream-${se?"development":"production"}`,y=e=>N(g({},e),{status:"Error",service:le});var zn=()=>{var s,a,c,m;let e=document.querySelector("#rpt-widget");if(!e)return;let t=document.location.origin,o=[{host:"justonecookbook.com",widgetId:"hcgu85PhS7CheLu1uF79uQ",existingTag:"jusonecoo-at-csn-oct-amazon-prime-day-2024-20",newTag:"jusonecoo-at-csn-oct-amazon-prime-day-2024-test-20"},{host:"skinnytaste.com",widgetId:"zMCIpb9TQEixTYwq1Qf1ZQ",existingTag:"ginsweiwatrec-at-csn-oct-amazon-prime-day-2024-20",newTag:"ginsweiwatrec-at-csn-oct-amazon-prime-day-2024-test-20"},{host:"theseasonedmom.com",widgetId:"r6Sgw8DRRk6ji__Gc0CUXQ",existingTag:"theseamom-at-csn-oct24-prime-20",newTag:"theseamom-at-csn-oct-amazon-prime-day-2024-test-20"},{host:"eatingonadime.com",widgetId:"lYSEWhfHQmajo_M3x3W6sg",existingTag:"PENDING-20",newTag:"PENDING-test-20"},{host:"qa.adthrive.com",widgetId:"vdaahwVlR9WFdcgfSqZ58w",existingTag:"justonecookbook-20",newTag:"justonecookbook-20-20"}],n={host:"default",widgetId:"vdaahwVlR9WFdcgfSqZ58w",existingTag:"justonecookbook-20",newTag:"justonecookbook-20-20"},i=o.find(l=>t.endsWith(l.host))||n,r=`<iframe src='https://affiliate.raptive.com/renderer/w/${i.widgetId}' data-rpt-widget-settings='{"autoHeight": true}' style="width: 100%; border: none;"></iframe>`;e.insertAdjacentHTML("afterend",r),i.host==="eatingonadime.com"?document.querySelectorAll('a[href*="walmart.com"]').forEach(f=>{let d=f.getAttribute("href")||"";try{d=d.replaceAll("aflt=cse","aflt=cse|affpdw").replaceAll("aflt%3Dcse","aflt%3Dcse%257Caffpdw").replaceAll("aflt=csn","aflt=csn|affpdw").replaceAll("aflt%3Dcse","aflt%3Dcse%257Caffpdw"),f.setAttribute("href",d)}catch(p){console.error("Error replacing URL",p),C("error",y({message:"Error replacing walmart URL in prime day experiment",data:{error:p,link:d}}))}}):document.querySelectorAll('a[href*="amazon.com"]').forEach(f=>{let d=f.getAttribute("href");if(d&&d.includes(i.existingTag)){let p=(d||"").replace(i.existingTag,i.newTag);f.setAttribute("href",p)}}),(a=(s=window.raptive)==null?void 0:s.affiliate)!=null&&a.modules.widgetManagement?(m=(c=window.raptive.affiliate.modules.widgetManagement)==null?void 0:c.data)==null||m.bindIframes():setTimeout(()=>{var l,f,d,p;(p=(d=(f=(l=window.raptive)==null?void 0:l.affiliate)==null?void 0:f.modules.widgetManagement)==null?void 0:d.data)==null||p.bindIframes()},200)},Ut={callback:zn};var Un=e=>{var i,r,s,a;let t=document.querySelector('[id*="wprm-recipe-container-"]');if(!t)return;t.insertAdjacentHTML(e,`<iframe src='https://affiliate.raptive.com/renderer/w/HpX2JLooQVa23_JYSqt2LA' data-rpt-widget-settings='{"autoHeight": true}' style="width: 100%; border: none;" scrolling="no"></iframe>`),(r=(i=window.raptive)==null?void 0:i.affiliate)!=null&&r.modules.widgetManagement?(a=(s=window.raptive.affiliate.modules.widgetManagement)==null?void 0:s.data)==null||a.bindIframes():setTimeout(()=>{var c,m,l,f;(f=(l=(m=(c=window.raptive)==null?void 0:c.affiliate)==null?void 0:m.modules.widgetManagement)==null?void 0:l.data)==null||f.bindIframes()},200)},Ot=[{callback:()=>{Un("beforebegin")}}];var F="rpt_aff_active_exps",Kt="rpt_aff_exps",q="rpt_aff_bucket_index",xe=(h=>(h.ExampleExperiment="affex",h.KeywordMonetizer="affkm",h.WidgetProofOfConcept="affwpc",h.DamnDeliciousTwo="affdd2",h.PrimeDayWidget="affpdw",h.FiveHeartHome1="aff5hh1",h.FiveHeartHome2="aff5hh2",h.FiveHeartHome3="aff5hh3",h.KeywordMonetizerOneSite="affkm1",h.CommerceFeelGoodFoodieOvernightOats="afffgfon",h.CommerceJustOneCookbookRiceCookers="affjocr",h.CommerceJustOneCookbookCoffeeMakers="affjocc",h.CommerceSkinnytasteMealPrep="affstmp",h.CommerceJustOneCookbookMatcha="affjocm",h.CommerceKylieMFarmhouseSinks="affkmfs",h.CommerceKylieMHomeDecor="affkmhd",h.CommerceSeasonedMomVacuumSealers="affsmvs",h.CommerceGrownAndFlownMattressToppers="affgafmt",h.Default="affctrl",h))(xe||{}),be={affex:[Tt],affkm:[Dt],affwpc:Ot,affdd2:Lt,affpdw:[Ut],affkm1:[It],aff5hh1:Mt,aff5hh2:_t,aff5hh3:Pt,afffgfon:Ct,affjocr:yt,affjocc:kt,affstmp:bt,affjocm:Et,affkmfs:At,affkmhd:vt,affsmvs:xt,affgafmt:St,affctrl:[{}]},Le=[{volume:0,name:"affex",variantsCount:1,cacheIndex:1,allowedPages:["example.com","pengqa002.qa.adthrive.com"]},{volume:0,name:"affkm1",variantsCount:1,cacheIndex:1,allowedPages:["localhost","qa.adthrive.com"]},{volume:0,name:"affwpc",variantsCount:1,allowedPages:[/^localhost/,/qa.adthrive.com\/example-recipe-page/,/damndelicious.net\/2015\/04\/27\/diy-homemade-dog-food/],cacheIndex:4},{volume:100,name:"affkm",variantsCount:1,cacheIndex:5,allowedPages:[/^localhost/,"qa.adthrive.com/example-recipe-page","theseasonedmom.com/marinated-grilled-shrimp","theseasonedmom.com/one-skillet-peach-glazed-chicken","theseasonedmom.com/5-ingredient-buttermilk-pancakes","theseasonedmom.com/cheesy-smoked-sausage-pasta","theseasonedmom.com/chicken-crescent-rolls","theseasonedmom.com/dump-bake-summer-pasta","theseasonedmom.com/easy-chicken-pot-pie","theseasonedmom.com/what-were-eating-two-ingredient-pumpkin-spice-mini-muffins","theseasonedmom.com/garlic-parmesan-zucchini-casserole","theseasonedmom.com/aunt-bees-shrimp-and-pasta-salad","theseasonedmom.com/healthy-slow-cooker-chicken-stew","theseasonedmom.com/pork-chop-rice-bake","theseasonedmom.com/chewy-oatmeal-chocolate-chip-cookies","theseasonedmom.com/dump-bake-chicken-tzatziki","theseasonedmom.com/grilled-salmon","theseasonedmom.com/cream-of-mushroom-chicken","theseasonedmom.com/tomato-basil-soup","theseasonedmom.com/red-rice","theseasonedmom.com/easy-cassoulet-recipe","theseasonedmom.com/dutch-oven-bread","theseasonedmom.com/bran-muffin-recipe","theseasonedmom.com/crock-pot-pulled-pork","theseasonedmom.com/southern-tomato-pie","theseasonedmom.com/homemade-sloppy-joes","theseasonedmom.com/healthy-slow-cooker-gumbo","theseasonedmom.com/cornbread-with-creamed-corn","theseasonedmom.com/chicken-pot-pie-recipe","theseasonedmom.com/soft-pretzels","theseasonedmom.com/ground-beef-and-beans","theseasonedmom.com/simple-chicken-and-mushroom-casserole"]},{volume:100,name:"affpdw",variantsCount:1,cacheIndex:4,allowedPages:["justonecookbook.com/prime-big-deals-day-2024","skinnytaste.com/prime-big-deals-day-2024","theseasonedmom.com/prime-big-deals-day-2024","eatingonadime.com/walmart-holiday-deals","qa.adthrive.com"]},{volume:0,name:"affdd2",variantsCount:1,cacheIndex:1,allowedPages:["localhost","qa.adthrive.com/example-recipe-page","damndelicious.net/2018/11/12/easy-thanksgiving-turkey/"]},{volume:100,name:"aff5hh1",variantsCount:2,cacheIndex:2,allowedPages:["qa.adthrive.com/example-recipe-page","fivehearthome.com/fool-proof-flaky-butter-pie-crust"]},{volume:100,name:"aff5hh2",variantsCount:2,cacheIndex:2,allowedPages:["qa.adthrive.com/example-recipe-page","fivehearthome.com/holiday-honeycrisp-salad"]},{volume:100,name:"aff5hh3",variantsCount:2,cacheIndex:2,allowedPages:["qa.adthrive.com/example-recipe-page","fivehearthome.com/snickerdoodle-mug-cake"]},{volume:0,name:"afffgfon",variantsCount:2,cacheIndex:1,allowedPages:["feelgoodfoodie.net/best-overnight-oats-containers"]},{volume:0,name:"affjocr",variantsCount:2,cacheIndex:1,allowedPages:["justonecookbook.com/best-japanese-rice-cookers"]},{volume:0,name:"affjocc",variantsCount:2,cacheIndex:1,allowedPages:["justonecookbook.com/best-pour-over-coffee-makers"]},{volume:0,name:"affstmp",variantsCount:2,cacheIndex:1,allowedPages:["skinnytaste.com/best-meal-prep-containers"]},{volume:0,name:"affjocm",variantsCount:2,cacheIndex:1,allowedPages:["justonecookbook.com/best-matcha-powders"]},{volume:0,name:"affkmfs",variantsCount:2,cacheIndex:1,allowedPages:["kylieminteriors.ca/best-farmhouse-sinks"]},{volume:0,name:"affkmhd",variantsCount:2,cacheIndex:1,allowedPages:["kylieminteriors.ca/fall-home-decor-walmart/"]},{volume:0,name:"affsmvs",variantsCount:2,cacheIndex:1,allowedPages:["theseasonedmom.com/best-chamber-vacuum-sealers"]},{volume:0,name:"affgafmt",variantsCount:2,cacheIndex:1,allowedPages:["grownandflown.com/best-twin-xl-mattress-toppers"]}];var Ft=new Map;function G({a:e,feature:t,merchantConfig:o,affiliateUrl:n,originalUrl:i,linkId:r,trackingFlags:s}){if(!E().enableAnalytics)return;let a=Ft.get(e);a||(a={linkId:r||z(),to:o.to,merchant:i==null?void 0:i.hostname,affiliateHref:n==null?void 0:n.href,originalHref:i==null?void 0:i.href,text:e.textContent?e.textContent.trim():void 0},Ft.set(e,a));let c=[t];a.to==="raptive"&&c.push("dynamic-link"),C("link-affiliated",g({features:c,trackingFlags:s,element:e},a)),e.addEventListener("click",()=>{w(this,null,function*(){try{yield C("click",g({features:c,trackingFlags:s,element:e},a))}catch(m){console.error("Error tracking click event:",m),C("error",y({message:"Error tracking click event:",data:{error:m}}))}})}),On(e,!0,()=>{w(this,null,function*(){try{yield C("impression",g({features:c,trackingFlags:s,element:e},a))}catch(m){console.error("Error tracking impression event:",m),C("error",y({message:"Error tracking impression event:",data:{error:m}}))}})})}function C(e,t){return w(this,null,function*(){var d,p,u,x,v;if(!E().enableAnalytics)return;try{let k=localStorage.getItem(Te);k&&(Jn(),C("new-session",JSON.parse(k)))}catch(k){console.error("Error adding new session event:",k)}let f=t,{features:o,element:n,trackingFlags:i}=f,r=Oe(f,["features","element","trackingFlags"]),s={};try{s=JSON.parse(sessionStorage.getItem(F)||"")}catch(k){console.error("Error parsing active experiments from session storage:",k)}let a={type:e,id:z(),sessionId:Fn(),timestamp:Date.now(),pluginVersion:((u=(p=(d=window.raptive)==null?void 0:d.affiliate)==null?void 0:p.config.applied)==null?void 0:u.pluginVersion)||"",clientVersion:((v=(x=window.raptive)==null?void 0:x.affiliate)==null?void 0:v.version)||"",features:o,trackingFlags:i,experiments:s,page:{title:document.title},location:{href:location.href,hostname:location.hostname,path:location.pathname!=="/"?location.pathname:void 0,params:location.search?Object.fromEntries(new URLSearchParams(location.search.slice(1))):void 0},navigator:{userAgent:navigator.userAgent,language:navigator.language,vendor:navigator.vendor,platform:navigator.platform},data:r};e==="error"&&(a.status="Error",a.service=le);let[c,m]=yield Promise.all([n?Hn(n):void 0,Wn()]);if(n){let k=jn(n);a.element=g(g({tagName:n.tagName.toLowerCase(),id:n.id},c),k)}a.page=g(g({},a.page),m);let l=Gn();l&&(a.ga=l),qt(a)})}function On(e,t,o){let n=(r,s)=>{r.forEach(a=>{a.isIntersecting&&Kn(e)&&(o(),t&&s.unobserve(e))})};new IntersectionObserver(n,{root:null,rootMargin:"0px",threshold:1}).observe(e)}function Kn(e){let t=getComputedStyle(e);return t.opacity!=="0"||t.visibility!=="hidden"||t.display!=="none"||t.filter!=="filter: opacity(0%)"||t.transform!=="scale(0)"||t.width!=="0px"||t.height!=="0px"}function Wt(e){if(!Object.prototype.hasOwnProperty.call(sessionStorage,B)){let t=z();return sessionStorage.setItem(B,t),e&&e(),t}return sessionStorage.getItem(B)||""}function Fn(){return sessionStorage.getItem(B)||Wt()}function jn(e){if(!e.parentElement)return;let t=[],o;for(;(o=e.parentElement)&&e!==document.body.parentElement;){let i=e.tagName,r=i.toLowerCase(),s=Array.from(o.children),a=s.filter(f=>f.tagName===i),c=s.indexOf(e),m=a.indexOf(e),l;e.id?l=`${r}#${e.id}`:l=a.length===1?r:`${r}:nth-child(${1+m})`,t.push([l,c,m]),e=o}return t.reverse(),{selector:t.map(([i])=>i).join(" > "),paths:t}}function Hn(e){return w(this,null,function*(){return new Promise(t=>{requestAnimationFrame(()=>{let{left:o,top:n,width:i,height:r}=e.getBoundingClientRect(),s=document.documentElement.scrollLeft||window.scrollX||0,a=document.documentElement.scrollTop||window.scrollY||0,c=o+s,m=n+a;t({x:c,y:m,width:i,height:r})})})})}function Wn(){return w(this,null,function*(){return new Promise(e=>{requestAnimationFrame(()=>{let t=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,o=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e({width:t,height:o})})})})}var Bn="_ga",qn=["_ga_","_gid","_gat_","_gac_"];function Gn(){let e={};for(let t of document.cookie.split(";")){let[o,n]=t.split("=");o=o.trim(),n&&o&&(o===Bn||qn.some(i=>o.startsWith(i)))&&(e[o]=n)}return Object.keys(e).length?e:void 0}var Bt="\u241E",j="raptive-analytics-events",Te=`${j}-new-session`,$n=2e3,jt;function Vn(e){localStorage.setItem(Te,JSON.stringify(e))}function Jn(){localStorage.removeItem(Te)}function qt(e){let t=JSON.stringify(e),o=localStorage.getItem(j);o?o+=Bt+t:o=t,localStorage.setItem(j,o),jt||(jt=window.setInterval(()=>void Qn(),$n))}function Xn(){var e;try{let t=(e=localStorage.getItem(j))==null?void 0:e.split(Bt).filter(o=>!!o);if(t){let o=t.map(n=>JSON.parse(n));return localStorage.removeItem(j),o}}catch(t){C("error",y({message:"Error reading analytics events from local storage",details:localStorage.getItem(j)||void 0}))}}function Ht(e,t){return w(this,null,function*(){let o=e.map(s=>({Data:btoa(JSON.stringify(s).replace(/[\u00A0-\u2666]/g,function(a){return`&#${a.charCodeAt(0)};`}))})),i=JSON.stringify({DeliveryStreamName:t,Records:o}),r=yield fetch(Nt,{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:i});return r.status!==200&&!(r.status===0&&r.type==="opaque")&&e.forEach(s=>{qt(s)}),e})}function Qn(){return w(this,null,function*(){let e=Xn();if(!e)return;I()&&(console.groupCollapsed("Raptive Affiliate Events"),console.log(e),console.groupEnd());let t=e.filter(n=>n.type!=="error"),o=e.filter(n=>n.type==="error");t.length&&(yield Ht(t,zt)),o.length&&(yield Ht(o,le))})}var Gt=function(){return{initialize:o=>w(this,[o],function*({getSiteConfig:t}){let{enableAnalytics:n}=t();return n?(Wt(()=>{Vn({})}),Promise.resolve({data:{trackEvent:C,trackLinkAnalytics:G},initialized:!0})):Promise.resolve({data:{},initialized:!1})})}}();var Yn=e=>{if(e)return sessionStorage.setItem(q,e.toString()),e;if(sessionStorage.getItem(q))return Number(sessionStorage.getItem(q));let t=Math.floor(Math.random()*100);return sessionStorage.setItem(q,t.toString()),t},Zn=e=>{var i;let t={};if(sessionStorage.getItem(F))try{t=JSON.parse(sessionStorage.getItem(F)||"")}catch(r){console.error("Error parsing active experiments from session storage:",r),t={}}else{let r=typeof raptiveAffiliateExperiments!="undefined"?raptiveAffiliateExperiments:[],s=[...Le];r.forEach((a,c)=>{let m=Le.find(l=>l.name===a.key);m?s[c]=Object.assign(m,{cacheIndex:a.cacheIndex,volume:a.volume,allowedPages:a.allowedPages,blockedPages:a.blockedPages}):(s.push({name:a.key,cacheIndex:a.cacheIndex,volume:a.volume,variantsCount:a.variants.length,allowedPages:a.allowedPages,blockedPages:a.blockedPages}),be[a.key]=a.variants)}),s.forEach(a=>{let c=a.allowedPages?a.allowedPages.map(l=>!!window.location.href.match(l)).includes(!0):!0,m=a.blockedPages?a.blockedPages.map(l=>!!window.location.href.match(l)).includes(!0):!1;!c||m||e<a.volume&&(t[a.name]={variant:Math.floor(Math.random()*(a.variantsCount+1)),cacheIndex:a.cacheIndex})})}return(((i=new URLSearchParams(window.location.search).get(Kt))==null?void 0:i.split(","))||[]).forEach(r=>{let[s,a]=r.split("|");Object.values(xe).includes(s)&&(t[s]={variant:a?parseInt(a):1,cacheIndex:999})}),sessionStorage.setItem(F,JSON.stringify(t)),t},eo=e=>Object.entries(e).reduce((t,[o,{variant:n}])=>{if(n<1)return t;let i=be[o][n-1]||{};return g(g({},t),i)},{}),to=e=>{document.querySelectorAll('a[href*="walmart.com"]').forEach(o=>{let n=o.getAttribute("href")||"";try{let i=new URL(n),r=i.searchParams;r.set("sharedid",e),i.search=r.toString(),o.setAttribute("href",i.toString())}catch(i){console.error("Error replacing URL",i),C("error",y({message:"Error replacing walmart URL",data:{error:i,link:n}}))}})},no=e=>{document.querySelectorAll('a[href*="walmart.com"]').forEach(o=>{let n=o.getAttribute("href")||"";try{let i=new URL(n),r=i.searchParams,s=r.get("aflt");s?r.set("aflt",`${s}|${e}`):r.set("aflt",e),o.setAttribute("href",i.toString())}catch(i){console.error("Error replacing URL",i),C("error",y({message:"Error replacing walmart URL",data:{error:i,link:n}}))}})},oo=(e,t)=>{document.querySelectorAll('a[href*="amazon.com"]').forEach(n=>{let i=n.getAttribute("href");try{if(i&&i.includes(e)){let r=(i||"").replace(e,t);n.setAttribute("href",r)}}catch(r){console.error("Error replacing URL",r),C("error",y({message:"Error replacing amazon URL",data:{error:r,link:i}}))}})};function $t(e){let t=Yn(e),o=Zn(t),n=eo(o);if(Object.entries(o).forEach(([i,{variant:r,cacheIndex:s}])=>{var a,c;(c=(a=window.adthrive)==null?void 0:a.cmd)==null||c.push(()=>{var m,l;(l=(m=window.adthrive)==null?void 0:m.setTargetingFlag)==null||l.call(m,i+s,[r.toString()],!0)})}),n.widgetUrl&&n.widgetSelector){let i=(r,s,a=0)=>{var l,f,d,p;let c=document.querySelector(r);if(!c){a<3?(setTimeout(()=>{i(r,s,a+1)},500),S(`InjectWidget: selector '${r}' not found, trying again in 500ms`)):S(`InjectWidget: selector '${r}' not found`);return}S(`InjectWidget: adding widget '${s}' after '${r}'`);let m=`<iframe src='${s}' data-rpt-widget-settings='{"autoHeight": true}' style="width: 100%; border: none;" scrolling="no"></iframe>`;c.insertAdjacentHTML("afterend",m),(f=(l=window.raptive)==null?void 0:l.affiliate)!=null&&f.modules.widgetManagement?(p=(d=window.raptive.affiliate.modules.widgetManagement)==null?void 0:d.data)==null||p.bindIframes():setTimeout(()=>{var u,x,v,k;(k=(v=(x=(u=window.raptive)==null?void 0:u.affiliate)==null?void 0:x.modules.widgetManagement)==null?void 0:v.data)==null||k.bindIframes()},200)};i(n.widgetSelector,n.widgetUrl)}return n.controlAmazonAffiliateId&&n.testAmazonAffiliateId&&oo(n.controlAmazonAffiliateId,n.testAmazonAffiliateId),n.testImpactSharedId&&to(n.testImpactSharedId),n.testImpactAfltFlag&&no(n.testImpactAfltFlag),n.callback&&(document.readyState==="complete"||document.readyState==="interactive"?setTimeout(()=>n.callback,1):document.addEventListener("DOMContentLoaded",n.callback)),{runningExperiments:o,config:n,experimentVariant(i){var r;return((r=o[i])==null?void 0:r.variant)||0},isExperimentEnabled(i){var r;return(((r=o[i])==null?void 0:r.variant)||0)>0}}}function Vt(){return w(this,null,function*(){let e=g({},O),t=typeof raptiveAffiliateSiteSettings!="undefined"?raptiveAffiliateSiteSettings:{};e=Object.assign(t,e);let o=document.querySelectorAll(`[${ve}]`),n=null,i=null;for(let m of o){n=null,m.tagName==="SCRIPT"&&m.getAttribute("type")==="application/json"?n=m.textContent:n=m.getAttribute(ve);try{if(!n)throw new Error("No valid config element found");let l=JSON.parse(n);i=i?Object.assign(i,l):l,e=Object.assign(e,l)}catch(l){let f="Invalid affiliate config in HTML";_(f),n&&_(n),C("error",y({message:f,details:n||""}))}}let{runningExperiments:r,config:s,experimentVariant:a,isExperimentEnabled:c}=$t();return e=Object.assign(e,s),document.location.hash===ht&&(e.enableLinkMonetizer=!1),Ae(Object.seal(e)),Promise.resolve({default:O,remote:t,local:i||{},applied:e,experiment:s,runningExperiments:r,experimentVariant:a,isExperimentEnabled:c})})}var ro=function(){let t=new Map,o=s=>function(a){a.source===s.contentWindow&&a.data.type==="iframe-resize"&&typeof a.data.height=="number"&&(s.style.height=`${a.data.height}px`)},n=s=>{(()=>{document.querySelectorAll("iframe[data-rpt-widget-settings]").forEach(m=>{let l=m.getAttribute("data-rpt-widget-settings"),f=g({},Ee);if(l)try{let p=JSON.parse(l);f.autoHeight=typeof p.autoHeight=="boolean"?p.autoHeight:Ee.autoHeight}catch(p){C("error",{features:["affiliate-client-library","widget-management"],message:"Invalid JSON in data-rpt-widget-settings.",data:{iframeConfig:f,iframe:m}})}if(!f.autoHeight)return;if(t.has(m)){let p=t.get(m);p&&window.removeEventListener("message",p)}let d=o(m);window.addEventListener("message",d),t.set(m,d)})})()},i=()=>{t.forEach(s=>{window.removeEventListener("message",s)}),t.clear()};return{initialize:s=>w(this,null,function*(){return n(s),Promise.resolve({data:{bindIframes:n,cleanup:i},initialized:!0})})}}(),Jt=ro;function Qt(e){return w(this,null,function*(){yield pt();let t=yield me(()=>Me(),e);if(t!=null&&t.siteId)return t;throw Error("AdCode not loaded")})}var Xt=void 0;function Me(){var o;if(Xt)return Xt;let e=E();if(e.site)return e.site;let t=(o=window.adthriveCLS)==null?void 0:o.siteAds;if(t!=null&&t.siteId)return{siteId:t.siteId,siteName:t.siteName}}var $=class{constructor(t){this.root=this.createNode();for(let o of t)o.length!==0&&this.insert(o)}createNode(){return{children:{},isEndOfWord:!1}}insert(t){let o=t.toLowerCase(),n=this.root;for(let i of o)n.children[i]||(n.children[i]=this.createNode()),n=n.children[i];n.isEndOfWord=!0}findKeywordInstances(t){let o=[],n={},i=t.toLowerCase();for(let r=0;r<i.length;r++){let s=this.root;for(let a=r;a<i.length&&s!==null&&s.children[i[a]];a++){s=s.children[i[a]];if(s!==null&&s.isEndOfWord){let c=t.substring(r,a+1),m=r>0?i[r-1]:null,l=a<i.length-1?i[a+1]:null;(m===null||!/\w/.test(m))&&(l===null||!/\w/.test(l))&&(n[c]||(n[c]=0),n[c]++,o.push({keyword:c,charIndexStart:r,charIndexEnd:a}))}}}return o}};var _e=new $([]),V,ao="div.wprm-recipe-ingredient-group > ul > li > span.wprm-recipe-ingredient-name",Pe=class{constructor(t){this.counts=new Map;this.offsets=new Map;this.overallCount=0;this.startingOutboundLinkCount=null;this.kmPerPageLimit=t,this.reset()}canLink(t,o){let n=this.counts.get(t)||0,i=this.offsets.get(t)||0;return o.offset&&i<o.offset?(this.offsets.set(t,i+1),!1):(this.offsets.set(t,i+1),o.perPageLimit!==void 0&&o.perPageLimit!==null&&n>=o.perPageLimit?(I()&&A("    - Too many occurrences of this specific keyword already","#b7a1b7"),!1):this.overallCount+(this.startingOutboundLinkCount||0)>=this.kmPerPageLimit?(I()&&A("    - Already hit global max keywords","#b7a1b7"),!1):!0)}increment(t){let o=this.counts.get(t)||0;this.counts.set(t,o+1),this.overallCount++}reset(){this.counts.clear(),this.offsets.clear(),this.overallCount=0,this.startingOutboundLinkCount=null}},L=null;function Yt(e){return w(this,null,function*(){yield so(e)})}function so(e){return w(this,null,function*(){let{keywordConfigs:t}=E(),o=[...t||[]];try{new Headers().append("x-api-key",ke);let i=yield JSON.parse("[]");for(let r of i)o.push({keyword:r.keyword,href:r.href,cssSelectors:r.cssSelectors||ao,caseSensitive:r.caseSensitive||!1,perPageLimit:r.perPageLimit||1,offset:r.offset||0,exactOnly:r.exactOnly||!1});wt({keywordConfigs:o}),I()&&console.log("Keywords loaded:",o)}finally{co(o),L===null?L=new Pe(e||999):L.kmPerPageLimit=e||999}})}function co(e){var n;V=new Map;let t=new Set;for(let i of e){let r=i.keyword.toLowerCase();V.has(r)?(n=V.get(r))==null||n.push(g({},i)):V.set(r,[g({},i)]),t.add(r)}let o=Array.from(t);return _e=new $(o),_e}function Zt(e,t){let o=e.data.trim(),n=[],i=_e.findKeywordInstances(e.data);L&&!L.startingOutboundLinkCount&&(L.startingOutboundLinkCount=t),i.sort((s,a)=>s.charIndexStart-a.charIndexStart||a.charIndexEnd-s.charIndexEnd);let r=null;for(let s of i){let a=V.get(s.keyword.toLowerCase());if(a!==void 0)for(let c of a){if(I()&&A(`KEYWORD MONETIZER: Processing keyword "${c.keyword}" in text "${o.length>30?`${o.substring(0,30)}...`:o}"`,"purple"),c.exactOnly&&!mo(o,c)){I()&&A("    - Not an exact match","#b7a1b7");continue}if(!lo(e,c)){I()&&A("    - Text element doesn't match selector","#b7a1b7");continue}if(fo(s.keyword,c)){I()&&A("    - Casing doesn't match","#b7a1b7");continue}let m=N(g({},s),{href:c.href});if(L!=null&&L.canLink(c.keyword,c)){if(r&&m.charIndexStart<=r.charIndexEnd)if(s.charIndexEnd>r.charIndexEnd&&s.charIndexEnd-s.charIndexStart>r.charIndexEnd-r.charIndexStart)n[n.length-1]=m,r=m;else{I()&&A("    - overlap,","#b7a1b7");continue}else n.push(m),r=m;I()&&A("    - MATCH FOUND","green; font-weight: bold"),L.increment(c.keyword);break}}}return n}function mo(e,t){return e.length===t.keyword.length&&e.toLowerCase()===t.keyword.toLowerCase()}function lo(e,t){let{kmCssSelectors:o}=E();return typeof t.cssSelectors=="string"&&t.cssSelectors.length>0?e.parentElement!==null&&e.parentElement.matches(t.cssSelectors)&&!e.parentElement.matches(".adthrive-ad"):t.cssSelectors&&Array.isArray(t.cssSelectors)?t.cssSelectors.some(n=>n.length>0&&e.parentElement&&e.parentElement.matches(n)&&!e.parentElement.matches(".adthrive-ad")):typeof o=="string"&&o.length>0?e.parentElement!==null&&e.parentElement.matches(o):!0}function fo(e,t){return t.caseSensitive?e!==t.keyword:!1}function en(e,t,o,n){let i=e.parentNode,r=e.splitText(t.charIndexEnd+1),s=e.splitText(t.charIndexStart),a=document.createElement("a");return a.href=o,n!=null&&n.alwaysOpenInNew&&!a.target&&(a.target="_blank"),n!=null&&n.alwaysNoFollow&&!a.rel&&(a.rel="nofollow"),n!=null&&n.processedLinkClassname&&n.processedLinkClassname.split(" ").forEach(c=>{a.classList.add(c)}),i.replaceChild(a,s),a.appendChild(s),{anchor:a,nextNode:r}}var tn="skimlink",po="data-skimlinks-tracking",uo=300,go=1e4;function nn(){return w(this,null,function*(){let{alwaysOpenInNew:e,alwaysNoFollow:t,processedLinkClassname:o,excludeDomains:n=[]}=E();A("Running Skimlinks for all other merchants"),ho()&&S("Skimlinks script tag already loaded. Aborting."),[...document.querySelectorAll('a[href*="thermoworks.com"]')].filter(Boolean).filter(l=>l.href.includes("?tw=")).forEach(l=>{l.classList.add("noskim"),l.classList.add("noskimlinks")});let i=R(),r=Object.keys(i),s=r.map(l=>dt(l)).filter(l=>!!l),a=[];for(let[l,f]of Object.entries(i)){let d=Array.isArray(f)?f:[f],p=d.filter(u=>!!(u!=null&&u.domain)).map(u=>u==null?void 0:u.domain);a.splice(d.length,0,...p)}window.skimlinks_settings={noskimlinks:!1,noskimwords:!0,skimlinks_target:e?"_blank":void 0,skimlinks_custom_rel:tn,skimlinks_exclude:[...r,...s,...a,P,U,...n,...window.location.hostname.includes("kylieminteriors.ca")?["samplize.com"]:[]]},S("Skimlinks settings: ",window.skimlinks_settings);try{let l=wo();yield ut(l)}catch(l){let f="Could not load Skimlinks script";_(f),yield C("error",y({message:f,data:{error:l}}))}let c=`a[rel*="${tn}"]`;if(yield me(()=>document.querySelector(c)!==null,go,uo)){let l=[],f=`${c}:not(.noskim), ${c}:not(.noskimlinks)`;for(let d of document.querySelectorAll(f)){d.dataset.googleInterstitial="false",t&&!d.rel&&(d.rel="nofollow");let p=new URL(d.href);gt(d,"contextmenu");let u=new URL(d.href);d.href=p.href;let x={to:"skimlinks",domain:new URL(u).hostname},v=d.dataset.affiliatePlatformSource==="km",k=[];v?k.push("km"):k.push("lm");let{fullUnifiedTrackingString:J,uniqueId:h,trackingFlags:pe}=b({flags:k,originalUrl:p});G({a:d,feature:"link-monetizer",merchantConfig:x,affiliateUrl:u,originalUrl:p,linkId:h,trackingFlags:pe}),d.setAttribute(po,J),o&&o.split(" ").forEach(ue=>{d.classList.add(ue)}),l.push(new URL(p).hostname)}S("Skimlinks merchants: ",l)}S("Skimlinks has completed")})}function ho(){var e;for(let t of document.querySelectorAll(He))if((e=t.getAttribute("src"))!=null&&e.match(je))return!0;return!1}function wo(){let{skimlinksSiteId:e}=E(),t=Number(e||we);return Fe.replace("{siteId}",t.toString())}function fe(){return w(this,arguments,function*(e=document.body){let{enableLinkMonetizer:t,enableKeywordLinker:o,enableSkimlinks:n,dynamicSectionSelectors:i,kmPerPageLimit:r,kmCssSelectors:s,keywordConfigs:a}=E();I()&&console.groupCollapsed("Raptive Affiliate Setup"),de&&S("Dynamically updating content for: ",e),S(`Environment: ${ot}`),S("Config Loaded",E()),S("Merchant Configs",R());try{yield Qt(),S("AdCode site data loaded")}catch(u){_("Could not load affiliate script. AdCode not available."),I()&&console.groupEnd();return}if(I()&&console.groupEnd(),o){I()&&console.groupCollapsed("Raptive Affiliate Keyword Monetizer");try{yield Yt(r),S("Keyword Linker config data loaded")}catch(u){_("Could not load keyword linker script. Keyword Linker not available.",u.message)}I()&&console.groupEnd()}I()&&console.groupCollapsed("Raptive Affiliate Monetizer");function c(u,x){if(ct(u)){if(Io(u))return;t?u.tagName.toLowerCase()==="a"&&Re(u):T.enableIngredientSplit()&&u.tagName.toLowerCase()==="a"&&u.classList.contains("wprm-recipe-ingredient-link")&&Re(u);let v=Array.from(u.childNodes);for(let k of v)c(k,x)}else if(mt(u)&&o){let v=u.parentElement;if(!v||u.data.trim().length===0)return;let k=v.tagName.toLowerCase();at.has(k)&&Co(u,x)}}let m=null;typeof e=="string"&&(m=document.querySelector(e));let l=new Set(a==null?void 0:a.map(u=>Z(u.cssSelectors)).flat());Z(s).forEach(u=>l.add(u));let f=window.location.hostname,d=Array.from(l).filter(Boolean).map(u=>`${u} a[href^="http://"]:not([href*="${f}"]), ${u} a[href^="https://"]:not([href*="${f}"])`).join(",");d===""&&(d=`a[href^="http://"]:not([href*="${f}"]), a[href^="https://"]:not([href*="${f}"])`);let p=(m||document).querySelectorAll(d).length;S("Per-keyword + page level Selectors:",l),S("Existing outbound link count",p),c(m||document.body,p),ye(),n&&(yield nn()),i!=null&&i.length&&ko(),I()&&console.groupEnd()})}function Io(e){let{excludeSelectors:t,enableSkimlinks:o}=E(),i=[...rt,...t||[]].some(r=>e.matches(r))||e.matches(`.${it}`);return o&&i&&e.classList.add(Y),i}function Re(e){let t=E(),{alwaysOpenInNew:o,alwaysNoFollow:n,enableLinkController:i,excludeDestinations:r,enableDynamicLinks:s,enableSkimlinks:a,processedLinkClassname:c,amazonAffiliateId:m,amazonAffiliateKeywordId:l,testImpactSharedId:f}=t,d=e.href;if(!d)return;let p=lt(d);if(!p)return;if(Ie(p.href)===Ie(window.location.href)){e.classList.add(Y);return}ye(),S(`Checking Link: ${p.href}`);let u=Me();if(!u)return;let x=e.dataset.affiliatePlatformSource==="km",v=x&&l?l:m,k=g(g(g(g({},v&&{amazonAffiliateId:v}),x&&{forcedFlags:["km"]}),e.textContent&&{hrefText:e.textContent}),f&&{testImpactSharedId:f}),J=ie(p,u,k,{enableDynamicLinks:s,excludeDestinations:r});if(!J)return;let{affiliateUrl:h,uniqueId:pe,trackingFlags:ue,merchantConfig:De}=J;if(I()){S(`Merchant config found for ${p.hostname}: `,De),A(`Rerouting Link: 
	Old: ${e.href}
	New: ${h.href}`);let X={"URL host":h.hostname,"URL path":h.pathname};for(let[rn,an]of h.searchParams.entries())X[rn]=an;A("New URL:"),S("",X)}i?So(e,p.href,h.href):e.href=h.href,a&&e.classList.add(Y),c&&c.split(" ").forEach(X=>{e.classList.add(X)}),o&&!e.target&&(e.target="_blank"),n&&!e.rel&&(e.rel="nofollow"),e.dataset.googleInterstitial="false",G({a:e,feature:"link-monetizer",merchantConfig:De,affiliateUrl:h,originalUrl:p,linkId:pe,trackingFlags:ue})}function Co(e,t){let{alwaysOpenInNew:o,alwaysNoFollow:n,enableKeywordLinker:i,kmPerPageLimit:r,enableLinkMonetizer:s,keywordConfigs:a,processedLinkClassname:c}=E();if(!i||!(a!=null&&a.length))return;let m=Zt(e,t);r&&(m=m.slice(0,r-t));let l=e,f=0;for(let d of m){d.charIndexStart-=f,d.charIndexEnd-=f;let{anchor:p,nextNode:u}=en(l,d,d.href,{alwaysOpenInNew:o,alwaysNoFollow:n,processedLinkClassname:c||""});if(p.dataset.affiliatePlatformSource="km",s&&Re(p),f+=d.charIndexEnd+1,u!==null&&u.data.length>0)l=u;else break}}function So(e,t,o){e.addEventListener("mousedown",n=>{n.button===0&&(e.href=o,setTimeout(()=>{e.href=t},ce))}),e.addEventListener("click",n=>{on(n,e,t,o)}),e.addEventListener("touchstart",()=>{e.href=o,setTimeout(()=>{e.href=t},ce)}),e.addEventListener("auxclick",n=>{on(n,e,t,o)}),e.addEventListener("contextmenu",()=>{e.href=o;let n=()=>{e.href=t,e.removeEventListener("blur",n),window.removeEventListener("blur",n),window.removeEventListener("focus",n)};e.addEventListener("blur",n),window.addEventListener("blur",n),window.addEventListener("focus",n)})}function on(e,t,o,n){t.href=n;let{alwaysOpenInNew:i}=E();try{window.open(n,i?"_blank":"_self")!==null?e.preventDefault():C("error",y({message:"null returned window.open. Falling back to default behavior via swapped href.",details:n,data:{}}))}catch(r){C("error",y({message:"Error occurred with window.open. Falling back to default behavior via swapped href.",details:n,data:{error:r}}))}setTimeout(()=>{t.href=o},ce)}function ko(){let{dynamicSectionSelectors:e}=E();if(e!=null&&e.length)for(let t of e)for(let o of document.querySelectorAll(t))Eo(o)}var de=!1;function Eo(e){let t=ft(()=>w(this,null,function*(){de||(de=!0,yield fe(e),de=!1)}));new MutationObserver(n=>{n.some(i=>i.type==="childList")&&t()}).observe(e,{childList:!0,subtree:!0,attributes:!1,characterData:!1})}var yo=new Map([["analytics",Gt],["linkMonetizer",null],["widgetManagement",Jt]]);function vo(){return window.raptive||(window.raptive={}),window.raptive.affiliate||(window.raptive.affiliate={version:nt,config:{},convertLink:ie,getSiteConfig(){var t;let e=(t=window.raptive)==null?void 0:t.affiliate;return(e==null?void 0:e.config.applied)||{}},experimentation:{is(e){var n;let t=(n=window.raptive)==null?void 0:n.affiliate,o=t==null?void 0:t.config.isExperimentEnabled;return o?o(e):!1},all(){var t;let e=(t=window.raptive)==null?void 0:t.affiliate;return(e==null?void 0:e.config.runningExperiments)||{}}},initialized:!1,modules:{},monetize:fe,trackEvent(e,t){var i,r,s;let o=(i=window.raptive)==null?void 0:i.affiliate,n=(s=(r=o==null?void 0:o.modules.analytics)==null?void 0:r.data)==null?void 0:s.trackEvent;return n?n(e,t):(console.error("Error. Attempted to use trackEvent before analytics module was initialized."),Promise.resolve(void 0))}}),window.raptive.affiliate}function Ao(){return w(this,null,function*(){let e=Vt(),t=vo();if(t.initialized)return;t.config=yield e;let{enableLinkMonetizer:o,enableKeywordLinker:n}=t.config.applied;t.initialized=!0;let i={};for(let[r,s]of yo.entries())if(s)try{i[r]=yield s.initialize(t)}catch(a){console.error(`
	Failed to initialize the module ${r}`,a)}t.modules=i;try{(o||n||T.enableIngredientSplit())&&(yield fe())}catch(r){yield t.trackEvent("error",y({message:"Failed to initialize link monetizer.",data:{error:r}}))}})}Ao();})();
